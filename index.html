<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Miliard√°≈ô OS: Ultimate Collection</title>
    <style>
        :root { --bg: #0a0a0c; --card: #16161a; --text: #ececec; --accent: #007aff; --green: #2ecc71; --red: #e74c3c; --gold: #f1c40f; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { font-family: 'Segoe UI', Roboto, Helvetica, sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 0; overflow-x: hidden; }
        
        /* ENGINE STYLY */
        .screen { display: none; width: 100%; min-height: 100vh; padding: 20px; animation: slide 0.4s ease; }
        .active { display: block; }
        @keyframes slide { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* MENU */
        #main-menu { text-align: center; max-width: 1200px; margin: 0 auto; }
        .hero { padding: 60px 20px; }
        .hero h1 { font-size: 3.5rem; margin: 0; background: linear-gradient(45deg, var(--accent), var(--green)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; filter: drop-shadow(0 0 10px rgba(0,122,255,0.3)); }
        .game-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; padding: 20px; }
        .game-card { background: var(--card); border-radius: 24px; padding: 30px; cursor: pointer; border: 1px solid #333; transition: 0.3s; position: relative; overflow: hidden; }
        .game-card:hover { transform: translateY(-10px); border-color: var(--accent); box-shadow: 0 15px 40px rgba(0,0,0,0.4); }
        .card-tag { position: absolute; top: 15px; right: 15px; padding: 5px 12px; border-radius: 50px; font-size: 0.7rem; font-weight: bold; background: var(--accent); }

        /* SPOLEƒåN√â UI */
        .header-bar { position: sticky; top: 0; background: rgba(10,10,12,0.9); backdrop-filter: blur(15px); padding: 15px; display: flex; justify-content: space-between; align-items: center; z-index: 100; border-bottom: 1px solid #333; margin-bottom: 20px; }
        .stat-box { font-family: 'Courier New', monospace; font-size: 1.4rem; color: var(--green); font-weight: bold; }
        .btn { padding: 12px 25px; border-radius: 12px; border: none; font-weight: bold; transition: 0.2s; cursor: pointer; }
        .btn-back { background: #333; color: white; }
        .btn-action { background: var(--accent); color: white; }

        /* GAME: SPENDER */
        .shop-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px; }
        .item { background: var(--card); padding: 20px; border-radius: 18px; text-align: center; border: 1px solid #222; }
        .item input { width: 100%; background: #000; border: 1px solid #444; color: white; padding: 10px; border-radius: 8px; margin-top: 10px; text-align: center; }

        /* GAME: CLICKER */
        .clicker-zone { display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 60vh; }
        .main-coin { font-size: 150px; cursor: pointer; transition: 0.1s; user-select: none; filter: drop-shadow(0 0 20px var(--gold)); }
        .main-coin:active { transform: scale(0.9); }
        .upgrades { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; width: 100%; max-width: 500px; margin-top: 30px; }

        /* GAME: STOCKS (GAMBLING) */
        .stock-market { background: var(--card); padding: 30px; border-radius: 24px; text-align: center; max-width: 600px; margin: 0 auto; }
        .chart-mock { height: 150px; display: flex; align-items: flex-end; gap: 5px; margin: 20px 0; border-bottom: 2px solid #444; }
        .chart-bar { flex: 1; background: var(--accent); min-height: 10px; }

        /* MODALS */
        .overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 1000; align-items: center; justify-content: center; text-align: center; }
    </style>
</head>
<body>

    <div id="screen-menu" class="screen active">
        <div class="hero">
            <h1>MILIARD√Å≈ò OS</h1>
            <p style="color: #888;">Vyber si svoji cestu k bohatstv√≠ nebo tot√°ln√≠mu krachu.</p>
        </div>
        <div class="game-grid">
            <div class="game-card" onclick="initGame('spend', 100000000000)">
                <div class="card-tag">LEGEND√ÅRN√ç</div>
                <div style="font-size: 50px;">üí∏</div>
                <h3>Utr√°cen√≠ pro elitu</h3>
                <p>M√°≈° 100 miliard. Dok√°≈æe≈° je vyhodit oknem d≈ô√≠v ne≈æ tƒõ klepne pepka?</p>
            </div>
            <div class="game-card" onclick="initGame('clicker', 0)">
                <div class="card-tag">ADIKTIVN√ç</div>
                <div style="font-size: 50px;">‚õèÔ∏è</div>
                <h3>Tƒõ≈æa≈ô korunek</h3>
                <p>Zaƒçni od nuly, maki mak a vybuduj imp√©rium vlastn√≠m prstem.</p>
            </div>
            <div class="game-card" onclick="initGame('stocks', 10000)">
                <div class="card-tag">Rizikov√©</div>
                <div style="font-size: 50px;">üìà</div>
                <h3>Wall Street Ruleta</h3>
                <p>Investuj do pofidern√≠ch akci√≠. Buƒè kr√°l, nebo bezdomovec.</p>
            </div>
        </div>
        <div style="margin-top: 50px;">
            <button class="btn btn-back" onclick="alert('Napi≈° mi na jinlongjou@gmail.com, ty lamo.')">üìß Support pro neschopn√©</button>
        </div>
    </div>

    <div id="screen-spend" class="screen">
        <div class="header-bar">
            <button class="btn btn-back" onclick="exitToMenu()">‚Üê MENU</button>
            <div class="stat-box" id="spend-money">0 Kƒç</div>
            <button class="btn btn-action" onclick="showReceipt()">KO≈†√çK</button>
        </div>
        <div class="shop-grid" id="spend-grid"></div>
    </div>

    <div id="screen-clicker" class="screen">
        <div class="header-bar">
            <button class="btn btn-back" onclick="exitToMenu()">‚Üê MENU</button>
            <div class="stat-box" id="clicker-money">0 Kƒç</div>
        </div>
        <div class="clicker-zone">
            <div class="main-coin" onclick="doClick()">üí∞</div>
            <p id="click-power-display">Zisk za klik: 1 Kƒç</p>
            <div class="upgrades">
                <button class="btn btn-action" onclick="buyUpgrade('click', 50)">Lep≈°√≠ klik (50 Kƒç)</button>
                <button class="btn btn-action" onclick="buyUpgrade('auto', 500)">Auto-tƒõ≈æa≈ô (500 Kƒç)</button>
            </div>
        </div>
    </div>

    <div id="screen-stocks" class="screen">
        <div class="header-bar">
            <button class="btn btn-back" onclick="exitToMenu()">‚Üê MENU</button>
            <div class="stat-box" id="stocks-money">0 Kƒç</div>
        </div>
        <div class="stock-market">
            <h2>Investiƒçn√≠ skupina "Jistota"</h2>
            <div class="chart-mock" id="stock-chart"></div>
            <p>Vsaƒè v≈°echno na n√°hodn√Ω startup!</p>
            <div style="display: flex; gap: 10px; justify-content: center;">
                <button class="btn btn-action" style="background:var(--green)" onclick="gamble(2)">All-in (2x nebo nic)</button>
                <button class="btn btn-action" style="background:var(--red)" onclick="gamble(0.5)">Bezpeƒçn√° s√°zka (0.5x risk)</button>
            </div>
        </div>
    </div>

    <div id="modal" class="overlay" onclick="this.style.display='none'">
        <div style="background: var(--card); padding: 40px; border-radius: 30px; border: 2px solid var(--accent);">
            <h2 id="modal-title"></h2>
            <p id="modal-body"></p>
            <button class="btn btn-action">OK, D√çKY</button>
        </div>
    </div>

    <script>
        let gameState = {
            money: 0,
            clickPower: 1,
            autoClickers: 0,
            cart: {},
            currentGame: ''
        };

        const items = [
            { name: "Pivo v akci", price: 12, icon: "üç∫" },
            { name: "Sma≈æ√°k v housce", price: 85, icon: "üçî" },
            { name: "iPhone 16 (z bazaru)", price: 25000, icon: "üì±" },
            { name: "Ojet√° Tesla", price: 1200000, icon: "üöó" },
            { name: "Volebn√≠ kampa≈à", price: 50000000, icon: "üó≥Ô∏è" },
            { name: "Fotbalov√° Sparta", price: 2000000000, icon: "‚öΩ" },
            { name: "Z√°mek v rakousku", price: 15000000000, icon: "üè∞" },
            { name: "Kolonie na Marsu", price: 80000000000, icon: "üöÄ" }
        ];

        function initGame(type, startMoney) {
            gameState.currentGame = type;
            gameState.money = startMoney;
            gameState.cart = {};
            gameState.clickPower = 1;
            gameState.autoClickers = 0;
            
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(`screen-${type}`).classList.add('active');
            
            if(type === 'spend') renderShop();
            if(type === 'stocks') renderChart();
            updateUI();
        }

        function updateUI() {
            const m = gameState.money.toLocaleString('cs-CZ') + " Kƒç";
            if(document.getElementById(`${gameState.currentGame}-money`)) {
                document.getElementById(`${gameState.currentGame}-money`).innerText = m;
            }
            if(gameState.currentGame === 'clicker') {
                document.getElementById('click-power-display').innerText = `Zisk za klik: ${gameState.clickPower} Kƒç | Auto: ${gameState.autoClickers}/s`;
            }
        }

        // --- SPENDER LOGIC ---
        function renderShop() {
            const grid = document.getElementById('spend-grid');
            grid.innerHTML = items.map((item, i) => `
                <div class="item">
                    <div style="font-size:40px">${item.icon}</div>
                    <strong>${item.name}</strong><br>
                    <small>${item.price.toLocaleString()} Kƒç</small>
                    <input type="number" placeholder="Poƒçet..." onchange="updateCart(${i}, this.value)">
                </div>
            `).join('');
        }

        function updateCart(index, val) {
            const item = items[index];
            const count = parseInt(val) || 0;
            const currentInCart = gameState.cart[item.name] || 0;
            const diff = count - currentInCart;
            
            if (gameState.money >= (item.price * diff)) {
                gameState.money -= (item.price * diff);
                gameState.cart[item.name] = count;
            } else {
                alert("Jsi ≈°vorc, k√°mo. Tolik si nem≈Ø≈æe≈° dovolit.");
            }
            updateUI();
        }

        function showReceipt() {
            let text = Object.entries(gameState.cart)
                .filter(([_, count]) => count > 0)
                .map(([name, count]) => `${count}x ${name}`)
                .join('<br>') || "Nic jsi nekoupil, ty dr≈ægre≈°le.";
            
            const modal = document.getElementById('modal');
            document.getElementById('modal-title').innerText = "Tvoje √∫trata";
            document.getElementById('modal-body').innerHTML = text;
            modal.style.display = 'flex';
        }

        // --- CLICKER LOGIC ---
        function doClick() {
            gameState.money += gameState.clickPower;
            updateUI();
        }

        function buyUpgrade(type, price) {
            if (gameState.money >= price) {
                gameState.money -= price;
                if(type === 'click') gameState.clickPower *= 2;
                if(type === 'auto') gameState.autoClickers++;
                updateUI();
            }
        }

        setInterval(() => {
            if(gameState.currentGame === 'clicker' && gameState.autoClickers > 0) {
                gameState.money += gameState.autoClickers;
                updateUI();
            }
        }, 1000);

        // --- STOCKS LOGIC ---
        function gamble(multiplier) {
            const win = Math.random() > 0.5;
            if (win) {
                gameState.money = Math.floor(gameState.money * multiplier * 1.5);
                alert("STONKS! Jsi v bal√≠ku.");
            } else {
                gameState.money = Math.floor(gameState.money / 2);
                alert("NOT STONKS. P≈ôi≈°el jsi o p≈Ølku.");
            }
            renderChart();
            updateUI();
        }

        function renderChart() {
            const chart = document.getElementById('stock-chart');
            chart.innerHTML = Array.from({length: 12}, () => 
                `<div class="chart-bar" style="height: ${Math.random() * 100}%"></div>`
            ).join('');
        }

        function exitToMenu() {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById('screen-menu').classList.add('active');
            gameState.currentGame = '';
        }
    </script>
</body>
</html>
